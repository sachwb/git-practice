utilities function for version 1